### 函数 ###

函数:将业务拆分为小单元,便于重复调用.隐藏实现细节.

#### 函数声明 ####

函数声明:函数名,形式参数列表,返回值列表(可省略),函数体;

	func name(parameter-list) (result-list) {
	    body
	}

形参由调用方提供,返回值省略表示没有返回值.返回值也可以像形参一样被命名,这时,返回值将被声明为局部变量,根据声明类型进行零值初始化.    
形参和返回值是否命名不影响函数实际运行;    
函数调用必须按声明顺序提供实参,go中不提供默认参数值,不允许通过参数名指定形参;    
形参和有名返回值作为函数最外层的局部变量,被存储在相同的语法块中;    
实参通过值的方式传递,因此函数的形参是实参的拷贝.对形参修改不影响实参.但可以通过引用类型的间接引用来修改实参.引用类型包括:指针,slice,map,function,channel等;    


#### 递归 ####

递归:函数可以自己间接或直接的调用自身的行为.递归有利于简化代码,实现抽象业务模型.

go使用可变栈,栈的大小按需增加,不用考虑递归栈溢出和安全问题.

	func outline(stack []string, n *html.Node) {
 	   if n.Type == html.ElementNode {
 	       stack = append(stack, n.Data) // push tag
 	       fmt.Println(stack)
 		}
  		for c := n.FirstChild; c != nil; c = c.NextSibling {
	        outline(stack, c)
	    }
	}

#### 多返回值 ####

go中,一个函数可以返回多个值.

	links, err := findLinks(url)

调用多返回值函数时,返回给调用者的是一组值,调用者必须显示的将这些值分配给变量.

	links, _ := findLinks(url) // errors ignored

不被使用的值使用_接收

良好的命名很重要.准确的变量名可以传达函数返回值的含义,尤其是相同返回值类型时.如果所有的返回值都有显示命名,则该函数的return语句可以省略操作数,这称为bare return

	func CountWordsAndImages(url string) (words, images int, err error) {
		resp, err := http.Get(url)
		if err != nil {
			return
		}
    	doc, err := html.Parse(resp.Body)
    	resp.Body.Close()
    	if err != nil {
        	err = fmt.Errorf("parsing HTML: %s", err)
        	return
    	}
	}

上面每个return等价于:return words, images, err.但是这种写法如果业务复杂时代码不直观,会增加出错几率.